<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
		<form>
			Enter date:<br>
			<input type="text" name="date" value="" id="d1">
			<input type="button" value="button" onclick="document.body.appendChild(document.createTextNode(isValidDate(document.getElementById('d1').value)))"><br>
		</form>
		<script>
			function isValidDate(date) { // (mm/dd/yyyy)
				//console.log(date + "\n");
				var match = date.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/);
				if (match == null) {
					return false;
				}
				var validDate = [31,28,31,30,31,30,31,31,30,31,30,31];
				var parsed_date = date.split("/");
				var year = match[3];
				var month = match[1];
				var day = match[2];
				console.log(month + "/" + day + "/" + year);
				//var year = parseInt(parsed_date[2]);
				//var month = parseInt(parsed_date[0]);
				//var day = parseInt(parsed_date[1]);
				if (year < 0 || day <= 0 || month <= 0 || month > 12)
					return false;
				if (year%4 == 0)
					validDate[1] = 29;
				if(day <= validDate[month-1])
					return true;
				return false;
			}
			
			function formatDate(date) { // input is mm/dd/yyyy || mm-dd-yyyy to output dd/mm/yyyy || dd-mm-yyyy
				var match = date.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/);
				var year = match[3];
				var month = match[1];
				var day = match[2];
				var newDate = day + "/" + month + "/" + year;
				return newDate;
			}
		</script>
  </body>
</html>
